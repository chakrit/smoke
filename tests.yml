---
checks:
  - stdout
  - stderr
  - exitcode
config:
  interpreter: /bin/sh
  timeout: 5s
tests:
  - name: CLI
    tests:
      - name: Formatted
        commands:
          - goimports -l *.go
      - name: Build
        commands:
          - go build -o ./bin/smoke -v .
      - name: Run
        commands:
          - ./bin/smoke
  - name: Tests
    commands:
      - go build -o ./bin/smoke -v .
    tests:
      - name: Listing
        commands:
          - ./bin/smoke --list tests.yml
